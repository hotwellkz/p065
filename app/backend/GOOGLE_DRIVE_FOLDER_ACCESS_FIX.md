# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–ø–∫–∞–º Google Drive

## –û—à–∏–±–∫–∞

```
–û–±–µ –ø–∞–ø–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –ü–∞–ø–∫–∞ –∏–∑ –∑–∞–ø—Ä–æ—Å–∞ (1ojV3VD26EIVKFa7cW2ilLsbzaQj2j5Vd) 
–∏ –ø–∞–ø–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (1IYDSfMaPIjj-yqAhRMYM63j9Z0o3AcNo) –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã. 
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å ID –ø–∞–ø–æ–∫ –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω–∏ —Ä–∞—Å—à–∞—Ä–µ–Ω—ã –Ω–∞ 
drive-access@videobot-478618.iam.gserviceaccount.com —Å –ø—Ä–∞–≤–∞–º–∏ "–†–µ–¥–∞–∫—Ç–æ—Ä".
```

## –ü—Ä–∏—á–∏–Ω–∞

Service Account –Ω–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–ø–∫–∞–º Google Drive. Service Accounts –Ω–µ –∏–º–µ—é—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –≤ Google Drive, –ø–æ—ç—Ç–æ–º—É –Ω—É–∂–Ω–æ **—è–≤–Ω–æ –ø–æ–¥–µ–ª–∏—Ç—å—Å—è –ø–∞–ø–∫–∞–º–∏** —Å email Service Account.

## –†–µ—à–µ–Ω–∏–µ

### –®–∞–≥ 1: –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Service Account Email

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∫–∞–∫–æ–π Service Account –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ:

1. –û—Ç–∫—Ä–æ–π—Ç–µ `backend/.env`
2. –ù–∞–π–¥–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `GOOGLE_DRIVE_CLIENT_EMAIL`
3. Email –¥–æ–ª–∂–µ–Ω –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫: `your-service-account@your-project.iam.gserviceaccount.com`

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –ï—Å–ª–∏ –≤ –æ—à–∏–±–∫–µ —É–∫–∞–∑–∞–Ω –¥—Ä—É–≥–æ–π email (`drive-access@videobot-478618.iam.gserviceaccount.com`), —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥—Ä—É–≥–æ–π Service Account. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `.env` —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π email.

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –ø–∞–ø–∫–∞–º

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏:

```bash
cd backend
node scripts/check-drive-folder-access.js 1ojV3VD26EIVKFa7cW2ilLsbzaQj2j5Vd 1IYDSfMaPIjj-yqAhRMYM63j9Z0o3AcNo
```

–ò–ª–∏ –µ—Å–ª–∏ –ø–∞–ø–∫–∏ —É–∫–∞–∑–∞–Ω—ã –≤ `.env`:

```bash
node scripts/check-drive-folder-access.js
```

–°–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∂–µ—Ç:
- ‚úÖ –ö–∞–∫–∏–µ –ø–∞–ø–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã
- ‚ùå –ö–∞–∫–∏–µ –ø–∞–ø–∫–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã
- üí° –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é

### –®–∞–≥ 3: –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å –ø–∞–ø–∫–∞–º–∏ —Å Service Account

–î–ª—è –∫–∞–∂–¥–æ–π –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ–π –ø–∞–ø–∫–∏:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–ø–∫—É –≤ Google Drive:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ: `https://drive.google.com/drive/folders/FOLDER_ID`
   - –ò–ª–∏ –Ω–∞–π–¥–∏—Ç–µ –ø–∞–ø–∫—É –≤ Google Drive

2. **–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å –ø–∞–ø–∫–æ–π:**
   - –ü—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏ –Ω–∞ –ø–∞–ø–∫–µ ‚Üí **–ü–æ–¥–µ–ª–∏—Ç—å—Å—è** (Share)
   - –ò–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **–ü–æ–¥–µ–ª–∏—Ç—å—Å—è** –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É

3. **–î–æ–±–∞–≤—å—Ç–µ Service Account:**
   - –í –ø–æ–ª–µ "–î–æ–±–∞–≤–∏—Ç—å –ª—é–¥–µ–π –∏ –≥—Ä—É–ø–ø—ã" –≤–≤–µ–¥–∏—Ç–µ **email Service Account** –∏–∑ `GOOGLE_DRIVE_CLIENT_EMAIL`
   - –ù–∞–ø—Ä–∏–º–µ—Ä: `drive-access@videobot-478618.iam.gserviceaccount.com`

4. **–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:**
   - **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤—ã–±–µ—Ä–∏—Ç–µ "–†–µ–¥–∞–∫—Ç–æ—Ä" (Editor)** –∏–ª–∏ "–í–ª–∞–¥–µ–ª–µ—Ü" (Owner)
   - ‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ "–ß–∏—Ç–∞—Ç–µ–ª—å" (Viewer) - —ç—Ç–æ–≥–æ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤

5. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ:**
   - –ù–∞–∂–º–∏—Ç–µ **–û—Ç–ø—Ä–∞–≤–∏—Ç—å** (Send)
   - –ò–ª–∏ **–ì–æ—Ç–æ–≤–æ** (Done), –µ—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å ID –ø–∞–ø–æ–∫

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ ID –ø–∞–ø–æ–∫ —É–∫–∞–∑–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

1. **–ü–∞–ø–∫–∞ –∏–∑ –∑–∞–ø—Ä–æ—Å–∞:** `1ojV3VD26EIVKFa7cW2ilLsbzaQj2j5Vd`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∫–∞–Ω–∞–ª–∞ (Channel Edit)
   - –ü–æ–ª–µ "Google Drive Folder ID"

2. **–ü–∞–ø–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `1IYDSfMaPIjj-yqAhRMYM63j9Z0o3AcNo`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ `backend/.env`
   - –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `GOOGLE_DRIVE_DEFAULT_PARENT`

**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å ID –ø–∞–ø–∫–∏:**
- –û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–ø–∫—É –≤ Google Drive
- URL –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫: `https://drive.google.com/drive/folders/1AbCdEfGhIjKlMnOpQrStUvWxYz`
- ID –ø–∞–ø–∫–∏ - —ç—Ç–æ —á–∞—Å—Ç—å –ø–æ—Å–ª–µ `/folders/`: `1AbCdEfGhIjKlMnOpQrStUvWxYz`

### –®–∞–≥ 5: –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –ø–æ–¥–µ–ª–∏–ª–∏—Å—å –ø–∞–ø–∫–∞–º–∏, –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–Ω–æ–≤–∞:

```bash
node scripts/check-drive-folder-access.js 1ojV3VD26EIVKFa7cW2ilLsbzaQj2j5Vd 1IYDSfMaPIjj-yqAhRMYM63j9Z0o3AcNo
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:
```
‚úÖ –ü–∞–ø–∫–∞ –Ω–∞–π–¥–µ–Ω–∞: "–ù–∞–∑–≤–∞–Ω–∏–µ –ø–∞–ø–∫–∏"
‚úÖ –î–æ—Å—Ç—É–ø –µ—Å—Ç—å! –†–æ–ª—å: writer
```

## –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 1: "–ü–∞–ø–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ (404)"

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π ID –ø–∞–ø–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ ID –ø–∞–ø–∫–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∫–∞–Ω–∞–ª–∞ –∏–ª–∏ –≤ `.env`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∞–ø–∫–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ ID –∏–∑ URL –ø–∞–ø–∫–∏ –≤ Google Drive

### –ü—Ä–æ–±–ª–µ–º–∞ 2: "–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–ø–∫–µ (403)"

**–ü—Ä–∏—á–∏–Ω–∞:** Service Account –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ –¥–æ—Å—Ç—É–ø –∏–ª–∏ –∏–º–µ–µ—Ç –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–µ –ø—Ä–∞–≤–∞

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å –ø–∞–ø–∫–æ–π —Å email Service Account
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–∞–≤–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –Ω–∞ **"–†–µ–¥–∞–∫—Ç–æ—Ä"** (Editor), –∞ –Ω–µ "–ß–∏—Ç–∞—Ç–µ–ª—å"
3. –ü–æ–¥–æ–∂–¥–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞

### –ü—Ä–æ–±–ª–µ–º–∞ 3: "Service Account –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ —Å–ø–∏—Å–∫–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π"

**–ü—Ä–∏—á–∏–Ω–∞:** –ü–∞–ø–∫–∞ –Ω–µ —Ä–∞—Å—à–∞—Ä–µ–Ω–∞ –Ω–∞ Service Account

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–ø–∫—É –≤ Google Drive
2. –ù–∞–∂–º–∏—Ç–µ "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è"
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ø–∏—Å–æ–∫ "–î–æ—Å—Ç—É–ø –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω" - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å email Service Account
4. –ï—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç - –¥–æ–±–∞–≤—å—Ç–µ (—Å–º. –®–∞–≥ 3 –≤—ã—à–µ)

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥—Ä—É–≥–æ–π Service Account

**–ü—Ä–∏—á–∏–Ω–∞:** –í –æ—à–∏–±–∫–µ —É–∫–∞–∑–∞–Ω –¥—Ä—É–≥–æ–π email (`drive-access@videobot-478618.iam.gserviceaccount.com`), —á–µ–º –≤ `.env`

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `GOOGLE_DRIVE_CLIENT_EMAIL` –≤ `backend/.env`
2. –ï—Å–ª–∏ email –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç:
   - –õ–∏–±–æ –∏–∑–º–µ–Ω–∏—Ç–µ `.env` –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π email
   - –õ–∏–±–æ –ø–æ–¥–µ–ª–∏—Ç–µ—Å—å –ø–∞–ø–∫–∞–º–∏ —Å email –∏–∑ –æ—à–∏–±–∫–∏

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ Google Cloud Console

–í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å Service Account —á–µ—Ä–µ–∑ Google Cloud Console:

1. –û—Ç–∫—Ä–æ–π—Ç–µ [Google Cloud Console](https://console.cloud.google.com/)
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **IAM & Admin** ‚Üí **Service Accounts**
4. –ù–∞–π–¥–∏—Ç–µ Service Account –ø–æ email –∏–∑ `GOOGLE_DRIVE_CLIENT_EMAIL`
5. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –Ω–µ–≥–æ –≤–∫–ª—é—á–µ–Ω **Google Drive API**

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–°–∫—Ä–∏–ø—Ç `check-drive-folder-access.js` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø–∞–ø–æ–∫
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ Service Account
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–∞–ø–∫–∏ –∏–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏ –∏–∑ `.env`

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø–∞–ø–∫–∏
node scripts/check-drive-folder-access.js FOLDER_ID_1 FOLDER_ID_2

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞–ø–∫—É –∏–∑ .env (GOOGLE_DRIVE_DEFAULT_PARENT)
node scripts/check-drive-folder-access.js
```

## –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –ø–æ–¥–µ–ª–∏–ª–∏—Å—å –ø–∞–ø–∫–∞–º–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∏–ª–∏ –¥–æ—Å—Ç—É–ø:

1. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ - –¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —É—Å–ø–µ—Ö
2. ‚úÖ –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤–∏–¥–µ–æ —á–µ—Ä–µ–∑ UI
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend - –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ –¥–æ—Å—Ç—É–ø–∞

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å `GOOGLE_DRIVE_CLIENT_EMAIL` –∏ `GOOGLE_DRIVE_PRIVATE_KEY`
- –í–∫–ª—é—á–µ–Ω –ª–∏ Google Drive API –≤ –ø—Ä–æ–µ–∫—Ç–µ
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å ID –ø–∞–ø–æ–∫


