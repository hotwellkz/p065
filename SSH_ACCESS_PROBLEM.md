# –ü—Ä–æ–±–ª–µ–º–∞ —Å –¥–æ—Å—Ç—É–ø–æ–º –ø–æ SSH

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

**–°–∏–º–ø—Ç–æ–º—ã:**
- ‚úÖ Ping —Ä–∞–±–æ—Ç–∞–µ—Ç (VPS –¥–æ—Å—Ç—É–ø–µ–Ω)
- ‚ùå SSH –ø–æ—Ä—Ç 22 –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (TcpTestSucceeded: False)

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
1. SSH —Å–µ—Ä–≤–∏—Å –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ VPS
2. Firewall –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Ä—Ç 22 (–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ufw)
3. SSH –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç
4. –ü—Ä–æ–≤–∞–π–¥–µ—Ä VPS –±–ª–æ–∫–∏—Ä—É–µ—Ç SSH

## üîß –†–µ—à–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: –í–µ–±-–∫–æ–Ω—Å–æ–ª—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ VPS

–ú–Ω–æ–≥–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã VPS –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å (KVM/VNC) –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É:

1. **–í–æ–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è VPS** (FirstByte, –µ—Å–ª–∏ —ç—Ç–æ –≤–∞—à –ø—Ä–æ–≤–∞–π–¥–µ—Ä)
2. **–ù–∞–π–¥–∏—Ç–µ –æ–ø—Ü–∏—é "–ö–æ–Ω—Å–æ–ª—å" –∏–ª–∏ "VNC Console"**
3. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å —á–µ—Ä–µ–∑ –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å**
4. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è SSH:**

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å SSH
systemctl status ssh
# –∏–ª–∏
systemctl status sshd

# –ï—Å–ª–∏ SSH –Ω–µ –∑–∞–ø—É—â–µ–Ω, –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
systemctl start ssh
systemctl enable ssh

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall
ufw status

# –ï—Å–ª–∏ –ø–æ—Ä—Ç 22 –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω, –æ—Ç–∫—Ä–æ–π—Ç–µ –µ–≥–æ:
ufw allow 22/tcp
ufw reload

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —Å–ª—É—à–∞–µ—Ç –ª–∏ SSH:
ss -tlnp | grep :22
# –∏–ª–∏
netstat -tlnp | grep :22
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—Ä—É–≥–∏—Ö –ø–æ—Ä—Ç–æ–≤ SSH

–í–æ–∑–º–æ–∂–Ω–æ SSH –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç:

```powershell
# –í PowerShell –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –¥—Ä—É–≥–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –ø–æ—Ä—Ç—ã SSH:
Test-NetConnection -ComputerName 159.255.37.158 -Port 2222
Test-NetConnection -ComputerName 159.255.37.158 -Port 22022
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –û–±—Ä–∞—â–µ–Ω–∏–µ –∫ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—É

–ï—Å–ª–∏ –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ VPS —Å –∑–∞–ø—Ä–æ—Å–æ–º:
- "–ù–µ –º–æ–≥—É –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –ø–æ SSH –∫ —Å–µ—Ä–≤–µ—Ä—É 159.255.37.158"
- "–ü–æ—Ä—Ç 22 –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –Ω–æ ping –ø—Ä–æ—Ö–æ–¥–∏—Ç"
- "–ù—É–∂–µ–Ω –¥–æ—Å—Ç—É–ø –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"

## ‚úÖ –•–æ—Ä–æ—à–∏–µ –Ω–æ–≤–æ—Å—Ç–∏

**–û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞:**
- ‚úÖ Nginx —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ –∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
- ‚úÖ Firewall –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–ø–æ—Ä—Ç—ã 80/443 –æ—Ç–∫—Ä—ã—Ç—ã)
- ‚úÖ Backend –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ VPN

**–û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ:**
- –ü–æ–ª—É—á–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (—Ç—Ä–µ–±—É–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ VPS)

## üìã –ß—Ç–æ –¥–µ–ª–∞—Ç—å –∫–æ–≥–¥–∞ –¥–æ—Å—Ç—É–ø –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
systemctl status nginx
systemctl status ssh
ufw status
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ certbot –∏ –ø–æ–ª—É—á–∏—Ç–µ SSL

```bash
apt install -y certbot python3-certbot-nginx

# –ó–∞–º–µ–Ω–∏—Ç–µ YOUR_EMAIL@example.com –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π email
certbot --nginx -d api.hotwell.synology.me \
  --non-interactive \
  --agree-tos \
  -m YOUR_EMAIL@example.com
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É

```bash
curl -I https://api.hotwell.synology.me/
```

## üîí –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ –±—É–¥—É—â–µ–º

–ü–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞, —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ SSH –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω:

```bash
# –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∏–ª–æ firewall –¥–ª—è SSH (–µ—Å–ª–∏ –µ—â–µ –Ω–µ—Ç)
ufw allow 22/tcp

# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ SSH –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
systemctl enable ssh

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é SSH
cat /etc/ssh/sshd_config | grep -E "^Port|^PermitRootLogin"
```

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –ø–æ–º–æ—â–∏

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:
1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è VPS** - —Ç–∞–º –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å
2. **–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞** - –æ–Ω–∏ –º–æ–≥—É—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–æ—Å—Ç—É–ø
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ VPS** —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–∞)

## üéØ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–ª–∞–Ω

–ï—Å–ª–∏ SSH –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –¥–æ–ª–≥–æ–µ –≤—Ä–µ–º—è, –Ω–æ —É –≤–∞—Å –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è VPS:

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å** –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥
2. **–ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç** –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –µ–≥–æ —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
3. **–ò–ª–∏ –ø–æ–ø—Ä–æ—Å–∏—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É** –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã –æ—Ç –≤–∞—à–µ–≥–æ –∏–º–µ–Ω–∏

## üìù –í–∞–∂–Ω–æ

**–ù–µ –ø–∞–Ω–∏–∫—É–π—Ç–µ!** –û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞. Nginx —Ä–∞–±–æ—Ç–∞–µ—Ç, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞ –º–µ—Å—Ç–µ. –ö–∞–∫ —Ç–æ–ª—å–∫–æ –¥–æ—Å—Ç—É–ø –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è, –æ—Å—Ç–∞–Ω–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ–ª—É—á–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç - —ç—Ç–æ –∑–∞–π–º–µ—Ç 2-3 –º–∏–Ω—É—Ç—ã.



